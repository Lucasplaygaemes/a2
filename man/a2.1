.TH A2 1 "October 2025" "a2 Manual"

.SH NAME
a2 \- a modal, terminal-based text editor

.SH SYNOPSIS
.B a2
[FILE] [LINE]

.SH DESCRIPTION
.B a2
 is a lightweight and fast modal text editor that runs entirely in the terminal. It is inspired by editors like Vim and aims to provide powerful, modern features in a simple and self-contained C codebase.

.SH MODAL EDITING
.B a2
 operates in several modes. The primary modes are:
.TP
.B NORMAL MODE
 The default mode. Every key press is interpreted as a command (e.g., for navigation, deletion, or yanking text). You cannot insert text directly in this mode.
.TP
.B INSERT MODE
 Entered by pressing 'i' in Normal Mode. In this mode, keys insert text into the buffer. Press 'Esc' to return to Normal Mode.
.TP
.B VISUAL MODE
 Entered by pressing 'v' in Normal Mode. Used to select blocks of text upon which commands (like yank or cut) can be performed.
.TP
.B COMMAND MODE
 Entered by pressing ':' in Normal Mode. Allows you to type extended commands, such as saving, quitting, or running the search and replace tool.

.SH PROJECT MANAGEMENT
.B a2
can save and load sessions on a per-project basis. A session includes the list of open files, window layouts, and cursor positions. Sessions are stored in a local `.a2` directory.
.TP
.B :save-project [name]
Saves the current layout as a named session.
.TP
.B :load-project <name>
Loads a named session.
.TP
On startup, if a default `session.json` is found, the editor will prompt to load it.

.SH COMMANDS
Below is a list of the most important commands available in Command Mode.
.TP
.B ":w [filename]"
Write (save) the current buffer. If a `filename` is provided, saves to that new file.
.TP
.B :q
Quit the current window. Exits `a2` if it's the last window.
.TP
.B :help
Opens this man page in a new, interactive terminal split.
.TP
.B :explorer
Opens a file explorer in a new split window. Use arrow keys to navigate, `Enter` to open a file/directory, and `q` to close.
.TP
.B ":s/find/repl/[flag]"
Search and replace text. The `flag` can be a number (to replace N times), or `l` followed by a line number (e.g., `l25`) to replace only on that line.
.TP
.B :..
Switch to the alternate (previously opened) file. Use it again to toggle back.

.SH LSP INTEGRATION
.B a2
 integrates with Language Server Protocol (LSP) to provide smart features.
.TP
.B Autocompletion
In Insert Mode, if the cursor is after a character, press `Tab` to request code completions from the LSP server.
.TP
.B Go to Definition
In Normal Mode, place the cursor on a variable or function and run the `:lsp-definition` command to jump to its definition.

.SH KEYBINDINGS
This is not an exhaustive list, but covers the most common operations.
.TP
.B Global
`Alt+t` (Open Command Palette), `Alt+F` or `Alt+D, E` (Fuzzy Finder), `Alt+D, D` (Start GDB), `Ctrl+]` (Next Window), `Alt+N` (Next Workspace), `Alt+X` (Close Window).
.TP
.B Normal Mode
`i` (Insert Mode), `v` (Visual Mode), `:` (Command Mode), `yy` (Yank line), `p` (Paste), `q` (Record Macro), `@` (Playback Macro).
.TP
.B Insert Mode
`Tab` (Context-aware: Indents at start of line, otherwise triggers completion).
.TP
.B Visual Mode
`s` (Start/end selection), `y` (Yank selection), `m` (Cut selection), `Alt+Y` (Yank to system clipboard).

.SH FILES
.TP
.I ~/.a2_macros
This file stores user-defined macros, which are loaded on startup.

.SH AUTHOR
Written by Luke.

.SH SEE ALSO
.B a2-commands(1)
, 
.B a2-shortcuts(1)
